@{
    @model Models.GSM.Inspeccion
    ViewBag.Title = "Inspeccion";
    Layout = "~/Views/Shared/_LayoutMaster.cshtml";
}

@section ScriptsSection {

    <script>
        $(document).ready(function () {
            $('#jqDialogCargando').remove();
            $('#jqDialogCargando').remove();
            /*
            $(document).ajaxStart(function () {
                $('#jqDialogCargando').modal('show');
            })

            $(document).ajaxStop(function () {
                $('#jqDialogCargando').modal('hide');
            });*/
        });
    </script>
    <script src="@Url.Content("~/Scripts/GSM/Inspeccion/Inspeccion.js")"></script>
}

<h2>@((Model.nuevo) ? "Registrar" : "Actualizar") inspección de servicio</h2>

<div class="form-inline" id="idContenedor">
    <input type="hidden" id="hidId" value="@(Model.IdRegistro)" />
    <input type="hidden" id="hidServicio" value="@(Model.oServicio.IdServicio)" />

    <input type="hidden" id="hidTypeButton" value="0" />
    @*  <h1 class="page-header">Registro de Inspección de Servicio</h1>*@
    <hr />

    <div class="row show-grid" style="margin-top: 10px;">
        <div class="col-md-10">
            <div class="col-xs-6 col-sm-3">
                <label>Código de Servicio:</label>
            </div>
            <div class="col-xs-6 col-sm-3">
                <input id="txtCodServ" value="@((Model.oServicio.IdServicio == 0) ? "" : Model.oServicio.IdServicio.ToString())" class="form-control" style="width: 100%" disabled />

            </div>
            @if (Model.IdRegistro <= 0)
            {
                <div class="col-xs-6 col-sm-3">
                    <a href="#" onclick="fn_CargaBusquedaServicio(event);">
                        <span class="glyphicon glyphicon-search"></span>
                    </a>
                </div>
            }
            else
            {


            }
        </div>
    </div>


    <div class="row show-grid" style="margin-top: 10px;">
        <div class="col-md-10">
            <div class="col-xs-6 col-sm-3">
                <label>Nombre de Servicio</label><br>
            </div>
            <div class="col-xs-6 col-sm-5">
                <input id="txtNomServ" value="@(Model.oServicio.Nombre)" class="form-control" style="width: 100%" disabled />
            </div>
        </div>

    </div>

    <div class="row show-grid" style="margin-top: 10px;">
        <div class="col-md-10">
            <div class="col-xs-6 col-sm-3">
                <label>Tipo de Servicio</label><br>
            </div>
            <div class="col-xs-6 col-sm-3">
                <input id="txtTipServ" value="@Model.oServicio.TipoServicio" class="form-control" style="width: 100%" disabled />
            </div>
        </div>
    </div>

    <div class="row show-grid" style="margin-top: 10px;">
        <div class="col-md-10">
            <div class="col-xs-6 col-sm-3">
                <label>Fecha de Inspección</label><br>
            </div>
            <div class="col-xs-6 col-sm-3">
                <input id="txtFeInspeccion" value="@Model.fechaProgramada" class="form-control" style="width: 100%"   />
            </div>
        </div>
    </div>

    <div class="row show-grid" style="margin-top: 10px;">
        <div class="col-md-10">
            <div class="col-xs-6 col-sm-3">
                <label>Hora de Inicio</label><br>
            </div>
            <div class="col-xs-6 col-sm-3">
                <input id="txthini" value="@Model.horaInicio" class="form-control" style="width: 100%"   />
            </div>
        </div>
    </div>
    <div class="row show-grid" style="margin-top: 10px;">
        <div class="col-md-10">
            <div class="col-xs-6 col-sm-3">
                <label>Hora de Fin</label><br>
            </div>
            <div class="col-xs-6 col-sm-3">
                <input id="txthfin" value="@Model.horaFin" class="form-control" style="width: 100%"   />
            </div>
        </div>
    </div>
    <div class="row show-grid" style="margin-top: 10px;">
        <div class="col-md-10">
            <div class="col-xs-6 col-sm-3">
                <label>Dirección (referencia) </label>
                <br>
            </div>
            <div class="col-xs-6 col-sm-5">
                <input id="txtDireccion" value="@Model.direccion" class="form-control" style="width: 100%"   />
            </div>
        </div>
    </div>

    <div class="row show-grid" style="margin-top: 10px;">
        <div class="col-md-10">
            <div class="col-xs-6 col-sm-3">
                <label>Responsable</label>
                <br>
            </div>
            <div class="col-xs-6 col-sm-5">
                <input id="txtResponsable" value="@Model.personaAsignada" class="form-control" style="width: 100%"   />
                <input type="hidden" value="@Model.IdPersona" id="hidResponsable" />
            </div>
        </div>
    </div>
    <div class="row show-grid" style="margin-top: 10px;">
        @if (Model.IdRegistro <= 0)
        { 
            <div class='modal-footer'>
                <button type="button" class="btn btn-primary" id="btnGuardar" onclick="fnGuardarServicio();">
                    <span class="glyphicon glyphicon-saved"></span>&nbsp; &nbsp;Guardar
                </button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="fnRetroceder()">
                    <span class="glyphicon glyphicon-remove"></span>&nbsp; &nbsp;Volver
                </button>
            </div>
        }
        else
        {
            <div class='modal-footer'>
                <button type="button" class="btn btn-primary" id="btnActualizar" onclick="fnActualizarServicio();">
                    <span class="glyphicon glyphicon-saved"></span>&nbsp; &nbsp;Actualizar
                </button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="fnCancelar()">
                    <span class="glyphicon glyphicon-remove"></span>&nbsp; &nbsp;Cancelar
                </button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="fnRetroceder()">
                    <span class="glyphicon glyphicon-remove"></span>&nbsp; &nbsp;Volver
                </button>
            </div>
        }
    </div>
</div>

<!--    -----------------------------------------------------------------------------  -->


<!--    -----------------------------------------------------------------------------  -->






<div class="modal fade" id="ModalServicio" role="dialog" aria-labelledby="headerSSTServicio" aria-hidden="true" data-backdrop="static" data-keyboard="false" style="width: auto;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content" style="max-width: 650px; width: 100%;">
            <div class="modal-header modal-header-primary">
                <h4 class="modal-title" id="titleServicio" style="color: #000000;">Busqueda de Servicio</h4>
            </div>
            <div class="modal-body">
                <div id="divServicioSD" style="height: auto!important;">
                    <div class="row show-grid" style="margin-top: 10px;">
                        <div class="col-md-12">
                            <div class="col-md-2 col-xs-3">
                                <label>Código Servicio</label><br>
                            </div>
                            <div class="col-md-2 col-xs-3 ">
                                <input id="txtSearchCod" class="form-control" style="width: 100%" />
                            </div>
                        </div>
                        @*</div> 
                            <div class="row show-grid" style="margin-top: 10px;">*@
                        <div class="col-md-12">
                            <div class="col-md-2 col-xs-3">
                                <label>Nombre Servicio</label><br>
                            </div>
                            <div class="col-md-5 col-xs-3 ">
                                <input id="txtSearchNom" class="form-control" style="width: 100%" />
                            </div>
                        </div>
                    </div>

                    <div class="row show-grid" style="margin-top: 10px;">
                        <div class="col-md-12">
                            <div class="col-md-2 col-xs-3">
                                <label>Tipo Servicio</label><br>
                            </div>
                            <div class="col-md-2 col-xs-3 ">
                                <select id="cboSearch" class="form-control input-sm">
                                    <option value="0">Seleccione</option>
                                </select>
                            </div>
                            <div class="col-md-2 col-xs-3" style="text-align: right">
                                <button type="button" class="btn btn-primary" onclick="fn_BuscarServicio();">
                                    <span class="glyphicon glyphicon-search"></span>&nbsp; &nbsp;Buscar
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="row" style="margin-top: 10px;">
                        <div id="gridServicio" style="margin-left: 30px; margin-right: 12px; width: 600px;"></div>
                    </div>
                    <!--------------------------------------------------------------------------------->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>&nbsp; &nbsp;Cerrar
                </button>
            </div>
        </div>
    </div>
</div>
